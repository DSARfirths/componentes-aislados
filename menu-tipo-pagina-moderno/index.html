<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Menú Sexshop del Perú 69 - prototipo</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Jost:wght@400;500;600;700&display=swap');
  :root{
    --brand-black:#000000;
    --brand-white:#ffffff;
    --accent-femme:#ff2193;
    --accent-homme:#1151bb;
    --accent-couple:#0098d5;
    --muted:#5d5b66;
    --surface:#ffffff;
    --surface-soft:#f5f7fb;
    --outline:rgba(0,0,0,.08);
    --sheet-accent:var(--accent-femme);
    --nav-h:72px;
    --radius:18px;
    --gutter:clamp(14px,4vw,36px);
    --speed:360ms;
    --shadow-soft:0 30px 60px rgba(15,17,32,.12);
    --font-ui:"Jost",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
    --fs-00:clamp(.8125rem,.78rem + .15vw,.875rem);
    --fs-0:clamp(.875rem,.78rem + .20vw,1rem);
    --fs-1:clamp(1rem,.92rem + .30vw,1.125rem);
    --fs-2:clamp(1.125rem,1rem + .60vw,1.5rem);
  }

  *,*::before,*::after{box-sizing:border-box;}
  html,body{height:100%;}
  body{
    margin:0;
    font-family:var(--font-ui);
    font-size:var(--fs-0);
    color:var(--brand-black);
    background:linear-gradient(180deg,#ffffff 0%,#f8f9fc 100%);
    line-height:1.5;
    -webkit-font-smoothing:antialiased;
  }
  a{color:inherit;text-decoration:none;}
  button{font:inherit;}

  header{
    position:sticky;
    top:0;
    z-index:50;
    height:var(--nav-h);
    display:flex;
    align-items:center;
    justify-content:center;
    padding:0 var(--gutter);
    background:#000000;
    color:var(--brand-white);
    border-bottom:1px solid rgba(255,255,255,.08);
    box-shadow:0 12px 32px rgba(0,0,0,.35);
  }
  .header-inner{
    width:min(1200px,100%);
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:20px;
  }
  .brand{
    font-weight:700;
    letter-spacing:.16em;
    text-transform:uppercase;
    font-size:clamp(.95rem,.8rem + .7vw,1.25rem);
    color:var(--brand-white);
    white-space:nowrap;
  }

  nav.primary{
    display:flex;
    gap:10px;
    align-items:center;
    padding:6px 8px;
    border-radius:999px;
    background:rgba(255,255,255,.08);
    backdrop-filter:blur(12px);
  }
  .nav-btn{
    position:relative;
    border:0;
    background:transparent;
    color:var(--brand-white);
    padding:12px 22px;
    border-radius:999px;
    font-weight:600;
    font-size:var(--fs-2);
    letter-spacing:.06em;
    text-transform:uppercase;
    transition:color .3s ease, transform .3s ease;
    isolation:isolate;
    cursor:pointer;
  }
  .nav-btn::before{
    content:'';
    position:absolute;
    inset:0;
    background:linear-gradient(90deg, rgba(255,255,255,.22) 0%, var(--accent, var(--accent-femme)) 100%);
    opacity:0;
    border-radius:inherit;
    transition:opacity .3s ease, transform .3s ease;
    z-index:-1;
  }
  .nav-btn:hover,
  .nav-btn:focus-visible{transform:translateY(-2px);}
  .nav-btn:hover::before,
  .nav-btn:focus-visible::before{opacity:.25;}
  .nav-btn:focus-visible{outline:2px solid rgba(255,255,255,.6);outline-offset:4px;}
  .nav-btn[aria-expanded="true"]{color:var(--brand-black);}
  .nav-btn[aria-expanded="true"]::before{opacity:1;transform:scale(1.02);}

  .hamburger{
    position:fixed;
    top:calc((var(--nav-h) - 48px)/2);
    right:var(--gutter);
    width:48px;
    height:48px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.25);
    background:rgba(255,255,255,.1);
    color:var(--brand-white);
    display:none;
    place-items:center;
    cursor:pointer;
    z-index:52;
    transition:transform .35s ease, background .35s ease, border-color .35s ease;
  }
  .hamburger:hover{transform:translateY(-2px);background:rgba(255,255,255,.18);}
  .hamburger .bar{
    position:absolute;
    left:50%;top:50%;
    width:26px;height:2px;
    background:currentColor;
    border-radius:2px;
    transform-origin:center;
    transition:transform .45s cubic-bezier(.2,1,.3,1), opacity .3s ease;
  }
  .hamburger .bar:nth-child(1){transform:translate(-50%,-50%) translateY(-6px);}
  .hamburger .bar:nth-child(2){transform:translate(-50%,-50%);}
  .hamburger .bar:nth-child(3){transform:translate(-50%,-50%) translateY(6px);}
  .hamburger[aria-expanded="true"]{background:rgba(0,0,0,.85);border-color:rgba(255,255,255,.35);}
  .hamburger[aria-expanded="true"] .bar:nth-child(1){transform:translate(-50%,-50%) rotate(45deg);}
  .hamburger[aria-expanded="true"] .bar:nth-child(2){opacity:0;transform:translate(-50%,-50%) scaleX(.5);}
  .hamburger[aria-expanded="true"] .bar:nth-child(3){transform:translate(-50%,-50%) rotate(-45deg);}

  .desk-backdrop{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.55);
    opacity:0;
    pointer-events:none;
    transition:opacity .35s ease;
    z-index:45;
  }
  .desk-backdrop.open{opacity:1;pointer-events:auto;}

  .desk-sheet{
    position:fixed;
    inset:0;
    background:#050505;
    color:var(--brand-white);
    z-index:46;
    transform:translateY(-100%);
    opacity:0;
    pointer-events:none;
    transition:transform .45s cubic-bezier(.2,1,.3,1), opacity .4s ease;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    overflow-y:auto;
    padding:calc(var(--nav-h) + clamp(18px,4vw,56px)) var(--gutter) var(--gutter);
  }
  .desk-sheet::after{
    content:'';
    position:absolute;
    inset:10%;
    border:1px solid rgba(255,255,255,.05);
    border-radius:36px;
    pointer-events:none;
  }
  .desk-sheet.open{transform:translateY(0);opacity:1;pointer-events:auto;}
  .desk-sheet-content{
    width:min(1180px,100%);
    padding:clamp(24px,3vw,48px);
    display:flex;
    flex-direction:column;
    gap:32px;
  }
  .desk-sheet-head{
    font-size:clamp(1.45rem,1.1rem + 1vw,2.2rem);
    font-weight:600;
    text-transform:uppercase;
    letter-spacing:.18em;
    color:var(--sheet-accent);
  }
  .desk-sheet-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:clamp(20px,3vw,40px);}
  .desk-col{display:flex;flex-direction:column;gap:28px;}
  .desk-section{display:flex;flex-direction:column;gap:12px;}
  .desk-section-title{
    margin:0;font-size:var(--fs-1);font-weight:600;color:var(--sheet-accent);
    letter-spacing:.08em;text-transform:uppercase;
  }
  .desk-sublist{list-style:none;margin:0;padding:0;display:grid;gap:10px;}
  .desk-subitem{
    position:relative;display:block;padding:12px 16px;border-radius:14px;
    background:rgba(255,255,255,.08);color:var(--brand-white);
    font-weight:500;letter-spacing:.04em;
    transition:transform .3s ease, background .3s ease, box-shadow .3s ease, opacity .35s ease;
    opacity:0;transform:translateY(12px);
  }
  .desk-subitem::after{content:'';position:absolute;inset:0;border-radius:inherit;border:1px solid rgba(255,255,255,.08);transition:border-color .3s ease;}
  .desk-subitem.is-visible{opacity:1;transform:translateY(0);}
  .desk-subitem:hover,
  .desk-subitem:focus-visible{
    background:linear-gradient(90deg,rgba(255,255,255,.15),var(--sheet-accent));
    color:#050505;transform:translateY(-2px);box-shadow:0 18px 26px rgba(0,0,0,.35);outline:none;
  }
  .desk-subitem:hover::after,
  .desk-subitem:focus-visible::after{border-color:rgba(255,255,255,.2);}

  .desk-notch{
    position:fixed;
    top:calc(var(--nav-h) + clamp(12px,4vw,32px));
    right:var(--gutter);
    width:48px;height:48px;border-radius:999px;
    border:1px solid rgba(255,255,255,.25);
    background:rgba(0,0,0,.6);
    display:flex;align-items:center;justify-content:center;
    color:var(--brand-white);
    z-index:47;
    opacity:0;pointer-events:none;
    transition:opacity .3s ease, transform .3s ease, border-color .3s ease;
  }
  .desk-notch::before,
  .desk-notch::after{content:'';position:absolute;width:18px;height:2px;background:var(--brand-white);border-radius:2px;}
  .desk-notch::before{transform:rotate(45deg);} .desk-notch::after{transform:rotate(-45deg);}
  .desk-notch.open{opacity:1;pointer-events:auto;transform:translateY(0);}
  .desk-notch:hover{border-color:var(--sheet-accent);}

  .mobile-menu{
    position:fixed;inset:0;background:#050505;color:var(--brand-white);
    transform:translateY(-110%);
    transition:transform .45s cubic-bezier(.2,1,.3,1), opacity .45s ease;
    opacity:0;z-index:51;
    padding:calc(var(--nav-h) + 12px) var(--gutter) var(--gutter);
    display:flex;flex-direction:column;gap:24px;
    overflow-y:auto;
    -webkit-overflow-scrolling:touch;
  }
  .mobile-menu.open{transform:translateY(0);opacity:1;}
  .mobile-menu-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:10px;}
  .mobile-menu-list .item-trigger{
    --accent-item:var(--accent-femme);
    width:100%;display:flex;align-items:center;justify-content:space-between;gap:12px;
    padding:16px 0;border:0;border-bottom:1px solid rgba(255,255,255,.12);
    background:transparent;color:inherit;font-weight:600;font-size:var(--fs-2);
    text-transform:uppercase;letter-spacing:.12em;cursor:pointer;transition:color .3s ease;
  }
  .mobile-menu-list .item-trigger svg{width:20px;height:20px;transition:transform .3s ease, color .3s ease;color:rgba(255,255,255,.7);}
  .mobile-menu-list .item-trigger:hover{color:var(--accent-item);} 
  .mobile-menu-list .item-trigger:hover svg{color:var(--accent-item);}
  .mobile-menu-list .item-trigger[aria-expanded="true"]{color:var(--accent-item);} 
  .mobile-menu-list .item-trigger[aria-expanded="true"] svg{transform:rotate(90deg);color:var(--accent-item);}

  .mobile-menu-list .sub-list{display:grid;grid-template-rows:0fr;transition:grid-template-rows .4s cubic-bezier(.2,1,.3,1);}
  .mobile-menu-list .item-trigger[aria-expanded="true"] + .sub-list{grid-template-rows:1fr;}
  .mobile-menu-list .sub-list > div{overflow:hidden;padding:12px 0 4px;}
  .mobile-section-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:18px;}
  .mobile-section{display:flex;flex-direction:column;gap:10px;}
  .mobile-section-title{font-size:var(--fs-1);font-weight:600;letter-spacing:.08em;text-transform:uppercase;color:var(--active-accent, var(--accent-femme));}
  .mobile-subitems{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:8px;}
  .mobile-subitem{display:block;padding:8px 0;color:rgba(255,255,255,.86);font-weight:500;letter-spacing:.02em;transition:color .25s ease, transform .25s ease;}
  .mobile-subitem:hover,
  .mobile-subitem:focus-visible{color:var(--active-accent, var(--accent-femme));transform:translateX(4px);outline:none;}

  main{width:min(1180px,100%);margin:48px auto 60px;padding:0 var(--gutter);display:flex;flex-direction:column;gap:28px;}
  .hero{background:var(--brand-white);border-radius:32px;padding:clamp(28px,4vw,64px);box-shadow:var(--shadow-soft);border:1px solid var(--outline);display:flex;flex-direction:column;gap:18px;}
  .hero-label{margin:0;font-size:var(--fs-00);font-weight:500;letter-spacing:.16em;text-transform:uppercase;color:var(--muted);}
  .hero h1{margin:0;font-size:clamp(1.8rem,1.4rem + 1.8vw,2.6rem);font-weight:600;line-height:1.2;color:#080808;max-width:26ch;}
  .hero h1 span{color:var(--accent-femme);}
  .hero-sub{margin:0;max-width:58ch;font-size:var(--fs-1);color:#34323d;}
  .note{margin:0;background:var(--surface-soft);border-radius:24px;padding:24px 28px;font-size:var(--fs-0);color:#373540;border:1px solid var(--outline);}

  @media (max-width:900px){
    nav.primary{display:none;}
    .hamburger{display:grid;}
    .desk-sheet-grid{grid-template-columns:repeat(2,minmax(0,1fr));}
    .hero{border-radius:26px;}
  }

  @media (max-width:640px){
    header{padding:0 clamp(16px,6vw,28px);}
    .hero{padding:32px 24px;}
    .hero h1{font-size:clamp(1.6rem,1.2rem + 3vw,2.1rem);}
    .note{padding:20px;}
  }

  @media (prefers-reduced-motion:reduce){
    *,*::before,*::after{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition:none !important;}
  }
</style>
</head>
<body>

<header>
  <div class="header-inner">
    <div class="brand">Sexshop del Perú 69</div>
    <nav class="primary" aria-label="Navegación principal">
      <button class="nav-btn" data-cat="ella" aria-expanded="false">Para Ellas</button>
      <button class="nav-btn" data-cat="el" aria-expanded="false">Para Ellos</button>
      <button class="nav-btn" data-cat="parejas" aria-expanded="false">Para Parejas</button>
    </nav>
  </div>
</header>

<button class="hamburger" id="hamburger" aria-label="Abrir menú" aria-controls="mobileMenu" aria-expanded="false">
  <span class="bar"></span><span class="bar"></span><span class="bar"></span>
</button>

<div class="desk-backdrop" id="deskBackdrop"></div>

<aside class="desk-sheet" id="deskSheet" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="deskTitle">
  <div class="desk-sheet-content">
    <div class="desk-sheet-head" id="deskTitle">Menú principal</div>
    <div class="desk-sheet-grid" id="deskGrid"></div>
  </div>
</aside>
<button class="desk-notch" id="deskNotch" aria-label="Cerrar menú" title="Cerrar menú"></button>

<aside class="mobile-menu" id="mobileMenu" aria-hidden="true">
  <ul class="mobile-menu-list" id="mobileMenuList"></ul>
</aside>

<main>
  <div class="hero">
    <p class="hero-label">Sexshop del Perú 69</p>
    <h1><span>Sheet luxe</span> para guiar la experiencia</h1>
    <p class="hero-sub">Selecciona una categoría para descubrir las líneas destacadas y combinaciones que llevaremos a nuestra tienda en línea.</p>
  </div>
  <p class="note">Este prototipo reproduce las jerarquías reales del menú de Sexshop del Perú 69. Úsalo para validar interacciones, tono cromático y accesos directos antes de integrarlo con la plataforma e-commerce.</p>
</main>

<script>
  const Utils = {
    splitIntoColumns(arr, numCols) {
      if (!Array.isArray(arr) || !arr.length) return Array.from({ length: numCols }, () => []);
      const size = Math.ceil(arr.length / numCols);
      return Array.from({ length: numCols }, (_, index) => arr.slice(index * size, (index + 1) * size));
    },

    createFocusTrap(container, extraElements = []) {
      return function(e) {
        if (e.key !== 'Tab') return;

        const focusableInContainer = Array.from(container.querySelectorAll('a[href], button:not([disabled])'));
        const focusableElements = [...extraElements, ...focusableInContainer];
        if (!focusableElements.length) return;

        const firstElement = focusableElements[0];
        const lastElement = focusableElements[focusableElements.length - 1];

        if (e.shiftKey) {
          if (document.activeElement === firstElement) {
            lastElement.focus();
            e.preventDefault();
          }
        } else {
          if (document.activeElement === lastElement) {
            firstElement.focus();
            e.preventDefault();
          }
        }
      };
    }
  };

  class DesktopMenu {
    constructor({ data, utils }) {
      this.data = data;
      this.utils = utils;
      this.navBtns = document.querySelectorAll('nav.primary .nav-btn');
      this.sheet = document.getElementById('deskSheet');
      this.notch = document.getElementById('deskNotch');
      this.backdrop = document.getElementById('deskBackdrop');
      this.titleEl = document.getElementById('deskTitle');
      this.gridEl = document.getElementById('deskGrid');

      this.navBtns.forEach(btn => {
        const cat = this.data[btn.dataset.cat];
        if (cat && cat.accent) {
          btn.style.setProperty('--accent', cat.accent);
        }
      });

      this.openTimer = null;
      this.closeTimer = null;
      this.isOpen = false;
      this.currentCat = null;

      this._initEvents();
    }

    _initEvents() {
      this.navBtns.forEach(btn => {
        const handleInteraction = () => this.open(btn.dataset.cat);
        btn.addEventListener('mouseenter', handleInteraction);
        btn.addEventListener('focus', handleInteraction);
      });

      const menuKeepOpenEls = [this.sheet, this.notch, ...this.navBtns];
      menuKeepOpenEls.forEach(el => {
        el.addEventListener('mouseenter', () => clearTimeout(this.closeTimer));
        el.addEventListener('focus', () => clearTimeout(this.closeTimer));
        el.addEventListener('mouseleave', () => this.close());
        el.addEventListener('blur', () => this.close());
      });

      this.notch.addEventListener('click', () => this.close(0));
      if (this.backdrop) {
        this.backdrop.addEventListener('click', () => this.close(0));
      }

      window.addEventListener('keydown', e => {
        if (e.key === 'Escape' && this.isOpen) this.close(0);
      });

      const focusTrapHandler = this.utils.createFocusTrap(this.sheet, [this.notch]);
      this.sheet.addEventListener('keydown', e => this.isOpen && focusTrapHandler(e));
    }

    _populate(catKey) {
      const categoryData = this.data[catKey];
      if (!categoryData || catKey === this.currentCat) return;

      this.currentCat = catKey;
      const accent = (categoryData.accent || '#ff2193').trim();
      this.sheet.style.setProperty('--sheet-accent', accent);
      this.notch.style.setProperty('--sheet-accent', accent);

      this.titleEl.textContent = categoryData.title;
      this.navBtns.forEach(btn => {
        btn.setAttribute('aria-expanded', String(btn.dataset.cat === catKey));
      });

      this.gridEl.innerHTML = '';
      let itemIndex = 0;
      const staggerDelay = 35;

      const sections = categoryData.sections || [];
      const columns = this.utils.splitIntoColumns(sections, 3);

      columns.forEach(sectionGroup => {
        const col = document.createElement('div');
        col.className = 'desk-col';

        sectionGroup.forEach(section => {
          const sectionBlock = document.createElement('div');
          sectionBlock.className = 'desk-section';

          const heading = document.createElement('p');
          heading.className = 'desk-section-title';
          heading.textContent = section.name;
          sectionBlock.appendChild(heading);

          const list = document.createElement('ul');
          list.className = 'desk-sublist';

          (section.subcategories || []).forEach(sub => {
            const li = document.createElement('li');
            const a = document.createElement('a');
            a.href = '#';
            a.className = 'desk-subitem';
            a.textContent = typeof sub === 'string' ? sub : sub.name;
            a.style.transitionDelay = `${itemIndex * staggerDelay}ms`;
            li.appendChild(a);
            list.appendChild(li);
            itemIndex += 1;
          });

          sectionBlock.appendChild(list);
          col.appendChild(sectionBlock);
        });

        this.gridEl.appendChild(col);
      });

      requestAnimationFrame(() => {
        this.gridEl.querySelectorAll('.desk-subitem').forEach(item => item.classList.add('is-visible'));
      });
    }

    open(catKey) {
      clearTimeout(this.openTimer);
      clearTimeout(this.closeTimer);

      this.openTimer = setTimeout(() => {
        this._populate(catKey);
        this.sheet.classList.add('open');
        this.notch.classList.add('open');
        if (this.backdrop) this.backdrop.classList.add('open');
        this.sheet.setAttribute('aria-hidden', 'false');
        this.isOpen = true;
        this.openTimer = null;
      }, this.isOpen ? 0 : 60);
    }

    close(delay = 160) {
      clearTimeout(this.openTimer);
      clearTimeout(this.closeTimer);

      this.closeTimer = setTimeout(() => {
        this.sheet.classList.remove('open');
        this.notch.classList.remove('open');
        if (this.backdrop) this.backdrop.classList.remove('open');
        this.sheet.setAttribute('aria-hidden', 'true');
        this.isOpen = false;
        this.currentCat = null;
        this.navBtns.forEach(btn => btn.setAttribute('aria-expanded', 'false'));
        this.closeTimer = null;
      }, delay);
    }
  }

  class MobileMenu {
    constructor({ data, utils }) {
      this.data = data;
      this.utils = utils;
      this.menu = document.getElementById('mobileMenu');
      this.hamburger = document.getElementById('hamburger');
      this.list = document.getElementById('mobileMenuList');

      this.lastFocus = null;
      this.isOpen = false;

      const values = Object.values(this.data);
      this.defaultAccent = values.length ? values[0].accent || '#ff2193' : '#ff2193';
      this.menu.style.setProperty('--active-accent', this.defaultAccent);

      this._buildMenu();
      this._initEvents();
    }

    _initEvents() {
      this.hamburger.addEventListener('click', () => this.isOpen ? this.close() : this.open());
      window.addEventListener('keydown', e => {
        if (e.key === 'Escape' && this.isOpen) this.close();
      });

      const focusTrapHandler = this.utils.createFocusTrap(this.menu, [this.hamburger]);
      this.menu.addEventListener('keydown', e => this.isOpen && focusTrapHandler(e));

      this.list.addEventListener('click', e => {
        const link = e.target.closest('.mobile-subitem');
        if (link) {
          this.close();
          return;
        }

        const trigger = e.target.closest('.item-trigger');
        if (!trigger) return;

        const isExpanded = trigger.getAttribute('aria-expanded') === 'true';
        const willExpand = !isExpanded;

        this.list.querySelectorAll('.item-trigger[aria-expanded="true"]').forEach(btn => {
          if (btn !== trigger) btn.setAttribute('aria-expanded', 'false');
        });

        trigger.setAttribute('aria-expanded', String(willExpand));

        if (willExpand) {
          const accent = trigger.dataset.accent || this.defaultAccent;
          this.menu.style.setProperty('--active-accent', accent);
        }
      });
    }

    _buildMenu() {
      const fragment = document.createDocumentFragment();

      Object.entries(this.data).forEach(([key, category]) => {
        const li = document.createElement('li');

        const button = document.createElement('button');
        button.className = 'item-trigger';
        button.setAttribute('aria-expanded', 'false');
        button.dataset.cat = key;
        if (category.accent) {
          button.dataset.accent = category.accent;
          button.style.setProperty('--accent-item', category.accent);
        }
        button.innerHTML = `<span>${category.title}</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"><path d="M13.1717 12.0007L8.22192 7.05093L9.63614 5.63672L16.0001 12.0007L9.63614 18.3646L8.22192 16.9504L13.1717 12.0007Z"></path></svg>`;
        li.appendChild(button);

        if (category.sections && category.sections.length) {
          const subList = document.createElement('ul');
          subList.className = 'sub-list';

          const inner = document.createElement('div');
          const sectionsUl = document.createElement('ul');
          sectionsUl.className = 'mobile-section-list';

          category.sections.forEach(section => {
            const sectionLi = document.createElement('li');
            sectionLi.className = 'mobile-section';

            const heading = document.createElement('span');
            heading.className = 'mobile-section-title';
            heading.textContent = section.name;
            sectionLi.appendChild(heading);

            const subItems = document.createElement('ul');
            subItems.className = 'mobile-subitems';

            (section.subcategories || []).forEach(sub => {
              const itemLi = document.createElement('li');
              const link = document.createElement('a');
              link.href = '#';
              link.className = 'mobile-subitem';
              link.textContent = typeof sub === 'string' ? sub : sub.name;
              itemLi.appendChild(link);
              subItems.appendChild(itemLi);
            });

            sectionLi.appendChild(subItems);
            sectionsUl.appendChild(sectionLi);
          });

          inner.appendChild(sectionsUl);
          subList.appendChild(inner);
          li.appendChild(subList);
        }

        fragment.appendChild(li);
      });

      this.list.innerHTML = '';
      this.list.appendChild(fragment);
    }

    open() {
      this.lastFocus = document.activeElement;
      this.isOpen = true;
      this.menu.classList.add('open');
      this.menu.setAttribute('aria-hidden', 'false');
      this.hamburger.setAttribute('aria-expanded', 'true');
      document.documentElement.style.overflow = 'hidden';
    }

    close() {
      this.isOpen = false;
      this.menu.classList.remove('open');
      this.menu.setAttribute('aria-hidden', 'true');
      this.hamburger.setAttribute('aria-expanded', 'false');
      this.menu.style.setProperty('--active-accent', this.defaultAccent);
      this.list.querySelectorAll('.item-trigger[aria-expanded="true"]').forEach(btn => btn.setAttribute('aria-expanded', 'false'));
      document.documentElement.style.overflow = '';
      if (this.lastFocus) this.lastFocus.focus();
    }
  }

  const App = {
    DATA: {
      ella: {
        title: 'Para Ellas',
        accent: '#ff2193',
        sections: [
          {
            name: 'Vibradores',
            subcategories: [
              { name: 'Vibradores clásicos' },
              { name: 'Vibradores clitorales' },
              { name: 'Vibradores extremos' },
              { name: 'Vibradores rabbit' },
              { name: 'Vibradores ciberskin y jelly' }
            ]
          },
          {
            name: 'Succionadores',
            subcategories: [
              { name: 'Succionadores clitorales' }
            ]
          },
          {
            name: 'Consoladores',
            subcategories: [
              { name: 'Consoladores realistas' },
              { name: 'Consoladores dobles' },
              { name: 'Consoladores extremos' }
            ]
          },
          {
            name: 'Anales',
            subcategories: [
              { name: 'Dildos' },
              { name: 'Bolas chinas y cuentas' }
            ]
          },
          {
            name: 'Bienestar y autocuidado',
            subcategories: [
              { name: 'Lubricantes y geles' },
              { name: 'Feromonas y excitantes' }
            ]
          }
        ]
      },
      el: {
        title: 'Para Ellos',
        accent: '#1151bb',
        sections: [
          {
            name: 'Pene',
            subcategories: [
              { name: 'Acariciadores' },
              { name: 'Masturbadores realistas' },
              { name: 'Anillos vibradores' },
              { name: 'Bombas de succión' },
              { name: 'Extensiones de pene y mangas' },
              { name: 'Fundas y prótesis' }
            ]
          },
          {
            name: 'Anal',
            subcategories: [
              { name: 'Plugs y masaje prostático' },
              { name: 'Bolas chinas y cuentas' },
              { name: 'Prostáticos' }
            ]
          },
          {
            name: 'Bienestar y autocuidado',
            subcategories: [
              { name: 'Geles retardantes' },
              { name: 'Desarrolladores' },
              { name: 'Lubricantes y geles' },
              { name: 'Feromonas y excitantes' }
            ]
          }
        ]
      },
      parejas: {
        title: 'Para Parejas',
        accent: '#0098d5',
        sections: [
          {
            name: 'Juguetes de parejas',
            subcategories: [
              { name: 'Control remoto' },
              { name: 'Vibraciones en pareja' },
              { name: 'Correas, prótesis y fundas' },
              { name: 'Consoladores dobles' },
              { name: 'Plugs y estimulación anal' }
            ]
          },
          {
            name: 'Parejas fetiches',
            subcategories: [
              { name: 'Restricciones y posicionador' },
              { name: 'Paletas, látigos y BDSM' },
              { name: 'Arneses y prótesis' }
            ]
          },
          {
            name: 'Más placer',
            subcategories: [
              { name: 'Juegos para adultos' },
              { name: 'Lubricantes y potenciadores' },
              { name: 'Feromonas y excitantes' },
              { name: 'Fetiches y roleplay' }
            ]
          }
        ]
      }
    },

    init() {
      const dependencies = {
        data: this.DATA,
        utils: Utils
      };

      new DesktopMenu(dependencies);
      new MobileMenu(dependencies);
    }
  };

  document.addEventListener('DOMContentLoaded', () => App.init());
</script>
</body>
</html>
